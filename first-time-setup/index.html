
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../tech-overview/">
      
      
        <link rel="next" href="../harvesting-and-importing/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>First Time Setup - MSU Libraries Public Catalog Technical Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#first-time-setup" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="MSU Libraries Public Catalog Technical Documentation" class="md-header__button md-logo" aria-label="MSU Libraries Public Catalog Technical Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MSU Libraries Public Catalog Technical Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              First Time Setup
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/MSU-Libraries/catalog" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    MSU-Libraries/catalog
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="MSU Libraries Public Catalog Technical Documentation" class="md-nav__button md-logo" aria-label="MSU Libraries Public Catalog Technical Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    MSU Libraries Public Catalog Technical Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/MSU-Libraries/catalog" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    MSU-Libraries/catalog
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Welcome
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tech-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Technical Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    First Time Setup
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    First Time Setup
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#building-the-vufind-image" class="md-nav__link">
    <span class="md-ellipsis">
      
        Building the VuFind image
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#to-start-the-application-stack" class="md-nav__link">
    <span class="md-ellipsis">
      
        To start the application stack
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-folio-user" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating a FOLIO user
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating a FOLIO user">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sunflower-capabilities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sunflower Capabilities
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sunflower Capabilities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#procedural" class="md-nav__link">
    <span class="md-ellipsis">
      
        Procedural
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#for-gitlab-users" class="md-nav__link">
    <span class="md-ellipsis">
      
        For GitLab users
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="For GitLab users">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-a-cicd-token" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating a CI/CD Token
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-cicd-variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create CI/CD Variables
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#for-local-development" class="md-nav__link">
    <span class="md-ellipsis">
      
        For local development
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../harvesting-and-importing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Harvesting &amp; Importing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CICD/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CI/CD
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Administration
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Administration
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../general/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    General
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../backup-and-restore/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Backup &amp; Restore
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../upgrading/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Upgrading
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vufind/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    VuFind
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../solr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Solr
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mariadb/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MariaDB
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../traefik/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Traefik
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../monitoring/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Monitoring App
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../load-testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Load Testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../helper-scripts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Helper Scripts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bots/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Bots
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../job-schedules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Job Schedules
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Developing
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Developing
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Writing &amp; Running Tests
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../core-vufind/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Using Core VuFind Only
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../alphabrowse/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Alphabrowse Internals
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documentation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Documentation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Processes
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Processes
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../communication-processes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Communication Processes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#building-the-vufind-image" class="md-nav__link">
    <span class="md-ellipsis">
      
        Building the VuFind image
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#to-start-the-application-stack" class="md-nav__link">
    <span class="md-ellipsis">
      
        To start the application stack
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-folio-user" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating a FOLIO user
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating a FOLIO user">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sunflower-capabilities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sunflower Capabilities
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sunflower Capabilities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#procedural" class="md-nav__link">
    <span class="md-ellipsis">
      
        Procedural
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#for-gitlab-users" class="md-nav__link">
    <span class="md-ellipsis">
      
        For GitLab users
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="For GitLab users">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-a-cicd-token" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating a CI/CD Token
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-cicd-variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create CI/CD Variables
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#for-local-development" class="md-nav__link">
    <span class="md-ellipsis">
      
        For local development
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="first-time-setup">First Time Setup</h1>
<h2 id="building-the-vufind-image">Building the VuFind image</h2>
<p>Before bringing up the application stack, you need to build the custom
VuFind images. There are helper scripts in this repository to build one
for each service, such as VuFind and Solr.</p>
<p>The <a href="../CICD/">CICD</a> will do this for you automatically, but if you want to
do it manually you can still use the scripts.</p>
<p>The more complex one, VuFind, has its
<a href="https://github.com/MSU-Libraries/catalog/blob/main/cicd/build-vufind">own script</a>
which includes the documentation on which environment variables it expects
to be defined when calling the script. For example:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1"># Build vufind:new using vufind:latest&#39;s build cache with the 9.0.1</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="c1"># VuFind version</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="c1"># NOTE: this is missing many other required environment variables to</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c1"># be a running VuFind environment and is just meant to be an example</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="c1"># to get you started!</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="nv">LATEST</span><span class="o">=</span>vufind:latest<span class="w"> </span><span class="nv">CURR</span><span class="o">=</span>vufind:new<span class="w"> </span><span class="nv">VUFIND_VERSION</span><span class="o">=</span><span class="m">9</span>.0.1<span class="w"> </span>cicd/build-vufind
</code></pre></div>
<p>For the rest of the components, they share a
<a href="https://github.com/MSU-Libraries/catalog/blob/main/cicd/build-general">single script</a>
to build their images and can be run like this:</p>
<!-- markdownlint-disable MD013 -->
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># Build the Solr image as vufind:new using solr:latst&#39;s build cache using data from</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="c1"># VuFind 9.0.1 (in this case the Solr schema and solrconfig)</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="nv">LATEST</span><span class="o">=</span>solr:latest<span class="w"> </span><span class="nv">CURR</span><span class="o">=</span>solr:new<span class="w"> </span><span class="nv">COMPONENT</span><span class="o">=</span>solr<span class="w"> </span><span class="nv">VUFIND_VERSION</span><span class="o">=</span><span class="m">9</span>.0.1<span class="w"> </span>cicd/build-general
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="c1"># Now do the rest!</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="nv">LATEST</span><span class="o">=</span>zk:latest<span class="w"> </span><span class="nv">CURR</span><span class="o">=</span>zk:new<span class="w"> </span><span class="nv">COMPONENT</span><span class="o">=</span>zk<span class="w"> </span><span class="nv">VUFIND_VERSION</span><span class="o">=</span><span class="m">9</span>.0.1<span class="w"> </span>cicd/build-general
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="nv">LATEST</span><span class="o">=</span>db:latest<span class="w"> </span><span class="nv">CURR</span><span class="o">=</span>db:new<span class="w"> </span><span class="nv">COMPONENT</span><span class="o">=</span>db<span class="w"> </span><span class="nv">VUFIND_VERSION</span><span class="o">=</span><span class="m">9</span>.0.1<span class="w"> </span>cicd/build-general
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="nv">LATEST</span><span class="o">=</span>ansible:latest<span class="w"> </span><span class="nv">CURR</span><span class="o">=</span>ansible:new<span class="w"> </span><span class="nv">COMPONENT</span><span class="o">=</span>ansible<span class="w"> </span><span class="nv">VUFIND_VERSION</span><span class="o">=</span><span class="m">9</span>.0.1<span class="w"> </span>cicd/build-general
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="nv">LATEST</span><span class="o">=</span>monitoring:latest<span class="w"> </span><span class="nv">CURR</span><span class="o">=</span>monitoring:new<span class="w"> </span><span class="nv">COMPONENT</span><span class="o">=</span>monitoring<span class="w"> </span><span class="nv">VUFIND_VERSION</span><span class="o">=</span><span class="m">9</span>.0.1<span class="w"> </span>cicd/build-general
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="nv">LATEST</span><span class="o">=</span>legacylinks:latest<span class="w"> </span><span class="nv">CURR</span><span class="o">=</span>legacylinks:new<span class="w"> </span><span class="nv">COMPONENT</span><span class="o">=</span>legacylinks<span class="w"> </span><span class="nv">VUFIND_VERSION</span><span class="o">=</span><span class="m">9</span>.0.1<span class="w"> </span>cicd/build-general
</code></pre></div>
<!-- markdownlint-enable MD013 -->

<h2 id="to-start-the-application-stack">To start the application stack</h2>
<p>During the first time you are bringing up the stack, you will need
to run these first to bootstrap Solr and MariaDB:</p>
<!-- markdownlint-disable MD013 -->
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>docker<span class="w"> </span>stack<span class="w"> </span>deploy<span class="w"> </span>-c<span class="w"> </span>&lt;<span class="o">(</span><span class="nb">source</span><span class="w"> </span>.env<span class="p">;</span><span class="w"> </span>envsubst<span class="w"> </span>&lt;docker-compose.solr-cloud-bootstrap.yml<span class="o">)</span><span class="w"> </span>solr
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>docker<span class="w"> </span>stack<span class="w"> </span>deploy<span class="w"> </span>-c<span class="w"> </span>&lt;<span class="o">(</span><span class="nb">source</span><span class="w"> </span>.env<span class="p">;</span><span class="w"> </span>envsubst<span class="w"> </span>&lt;docker-compose.mariadb-cloud-bootstrap.yml<span class="o">)</span><span class="w"> </span>mariadb
</code></pre></div>
<!-- markdownlint-enable MD013 -->

<p>Subsequently, you will run these commands (during the initial deploy
and whenever you need to deploy updates):</p>
<!-- markdownlint-disable MD013 -->
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1"># Public network</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>docker<span class="w"> </span>stack<span class="w"> </span>deploy<span class="w"> </span>-c<span class="w"> </span>&lt;<span class="o">(</span><span class="nb">source</span><span class="w"> </span>.env<span class="p">;</span><span class="w"> </span>envsubst<span class="w"> </span>&lt;docker-compose.public.yml<span class="o">)</span><span class="w"> </span>public
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="c1"># Traefik stack to handle networking</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>docker<span class="w"> </span>stack<span class="w"> </span>deploy<span class="w"> </span>-c<span class="w"> </span>&lt;<span class="o">(</span><span class="nb">source</span><span class="w"> </span>.env<span class="p">;</span><span class="w"> </span>envsubst<span class="w"> </span>&lt;docker-compose.traefik.yml<span class="o">)</span><span class="w"> </span>traefik
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="c1"># Internal network for galera cluster</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>docker<span class="w"> </span>stack<span class="w"> </span>deploy<span class="w"> </span>-c<span class="w"> </span>&lt;<span class="o">(</span><span class="nb">source</span><span class="w"> </span>.env<span class="p">;</span><span class="w"> </span>envsubst<span class="w"> </span>&lt;docker-compose.internal.yml<span class="o">)</span><span class="w"> </span>internal
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="c1"># The rest of the MariaDB galera cluster</span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>docker<span class="w"> </span>stack<span class="w"> </span>deploy<span class="w"> </span>-c<span class="w"> </span>&lt;<span class="o">(</span><span class="nb">source</span><span class="w"> </span>.env<span class="p">;</span><span class="w"> </span>envsubst<span class="w"> </span>&lt;docker-compose.mariadb-cloud.yml<span class="o">)</span><span class="w"> </span>mariadb
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="c1"># The rest of the Solr cloud stack</span>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>docker<span class="w"> </span>stack<span class="w"> </span>deploy<span class="w"> </span>-c<span class="w"> </span>&lt;<span class="o">(</span><span class="nb">source</span><span class="w"> </span>.env<span class="p">;</span><span class="w"> </span>envsubst<span class="w"> </span>&lt;docker-compose.solr-cloud.yml<span class="o">)</span><span class="w"> </span>solr
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a><span class="c1"># The VuFind stack</span>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>docker<span class="w"> </span>stack<span class="w"> </span>deploy<span class="w"> </span>-c<span class="w"> </span>&lt;<span class="o">(</span><span class="nb">source</span><span class="w"> </span>.env<span class="p">;</span><span class="w"> </span>envsubst<span class="w"> </span>&lt;docker-compose.catalog.yml<span class="o">)</span><span class="w"> </span>catalog
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a><span class="c1"># Deploy the swarm cleanup stack</span>
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a>docker<span class="w"> </span>stack<span class="w"> </span>deploy<span class="w"> </span>-c<span class="w"> </span>&lt;<span class="o">(</span><span class="nb">source</span><span class="w"> </span>.env<span class="p">;</span><span class="w"> </span>envsubst<span class="w"> </span>&lt;docker-compose.swarm-cleanup.yml<span class="o">)</span><span class="w"> </span>swarm-cleanup
<a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>
<a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a><span class="c1"># Deploy the monitoring stack</span>
<a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a>docker<span class="w"> </span>stack<span class="w"> </span>deploy<span class="w"> </span>-c<span class="w"> </span>&lt;<span class="o">(</span><span class="nb">source</span><span class="w"> </span>.env<span class="p">;</span><span class="w"> </span>envsubst<span class="w"> </span>&lt;docker-compose.monitoring.yml<span class="o">)</span><span class="w"> </span>monitoring
</code></pre></div>
<!-- markdownlint-enable MD013 -->

<h2 id="creating-a-folio-user">Creating a FOLIO user</h2>
<p>In order for VuFind to connect to FOLIO to make API calls, it
requires a generic user to be created, called <code>vufind</code>.</p>
<p>The users credentials are provided as build arguments to the VuFind image:
<code>FOLIO_USER</code> and <code>FOLIO_PASS</code>.</p>
<p>The <code>vufind</code> application user (set in <code>local/confing/vufind/folio.ini</code>)
requires the following permissions within FOLIO. They need to be created
as a permission set with the FOLIO API, with a <code>POST</code> request to
<code>/perms/permissions</code>.</p>
<ul>
<li><code>inventory.instances.item.get</code></li>
<li><code>inventory.items-by-holdings-id.collection.get</code> (Required as of Ramsons for
  <code>/inventory/items-by-holdings-id</code>)</li>
<li><code>inventory.items.collection.get</code></li>
<li><code>inventory.items.item.get</code></li>
<li><code>inventory-storage.bound-with-parts.collection.get</code></li>
<li><code>inventory-storage.holdings.collection.get</code></li>
<li><code>inventory-storage.holdings.item.get</code></li>
<li><code>inventory-storage.instances.collection.get</code></li>
<li><code>inventory-storage.items.collection.get</code></li>
<li><code>inventory-storage.items.item.get</code></li>
<li><code>inventory-storage.locations.collection.get</code></li>
<li><code>inventory-storage.locations.item.get</code></li>
<li><code>inventory-storage.loan-types.collection.get</code> (For MSUL customization
  to display loan type)</li>
<li><code>inventory-storage.service-points.collection.get</code></li>
<li><code>circulation.loans.collection.get</code></li>
<li><code>circulation.requests.allowed-service-points.get</code></li>
<li><code>circulation.requests.item.post</code></li>
<li><code>circulation.requests.item.get</code></li>
<li><code>circulation.requests.item.put</code></li>
<li><code>circulation.renew-by-id.post</code></li>
<li><code>circulation-storage.requests.collection.get</code></li>
<li><code>circulation-storage.request-preferences.collection.get</code></li>
<li><code>users.collection.get</code></li>
<li><code>ui-requests.view</code></li>
<li><code>accounts.collection.get</code></li>
<li><code>course-reserves-storage.courselistings.collection.get</code></li>
<li><code>course-reserves-storage.courselistings.courses.collection.get</code></li>
<li><code>course-reserves-storage.courselistings.instructors.collection.get</code></li>
<li><code>course-reserves-storage.courses.collection.get</code></li>
<li><code>course-reserves-storage.departments.collection.get</code></li>
<li><code>course-reserves-storage.reserves.collection.get</code></li>
<li><code>course-reserves-storage.terms.collection.get</code></li>
<li><code>oai-pmh.records.collection.get</code></li>
<li><code>kb-ebsco.packages.collection.get</code> (For MSUL customization to add license
  agreement information to record pages)</li>
<li><code>proxiesfor.collection.get</code></li>
<li><code>patron-pin.validate</code> (For MSUL barcode login)</li>
</ul>
<h3 id="sunflower-capabilities">Sunflower Capabilities</h3>
<h4 id="procedural">Procedural</h4>
<table>
<thead>
<tr>
<th>Application</th>
<th>Resource</th>
<th>Execute</th>
</tr>
</thead>
<tbody>
<tr>
<td>app-platform-minimal</td>
<td>Patron-Pin Validate</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<h2 id="for-gitlab-users">For GitLab users</h2>
<h3 id="creating-a-cicd-token">Creating a CI/CD Token</h3>
<p>Create a new <a href="https://gitlab.msu.edu/help/user/project/settings/project_access_tokens">access token</a>
that has <code>read_registry</code> privileges to the repository and create a new
CI/CD variable with the resulting key value (<code>REGISTRY_ACCESS_TOKEN</code>).</p>
<h3 id="create-cicd-variables">Create CI/CD Variables</h3>
<p>There are a number of variables that are required for the CI/CD pipeline
to run. Refer to the <a href="../CICD/#variables">CI/CD variables section</a> for details.</p>
<h2 id="for-local-development">For local development</h2>
<p>To make changes to the theme, custom module, or files stored within <code>local</code>
you can either modify them directly inside the containers, or you can mount
the shared storage and make changes there. Changes to the live storage are
symbolically linked to the containers and will appear real time in the
environment -- very handy for theme development! This is only available for
development environment starting with devel-*.</p>
<p>Within the shared storage there will be a subdirectory for each branch name.
This documentation assumes that the share has been set up and configured
already on the hosts. The subdirectory will contain a clone of this repository
which can be easily used to track changes between subsequent deploys to
the same branch.</p>
<p>Note that subsequent deploys only do a <code>git fetch</code> to avoid overwriting
local changes. You are responsible for doing a <code>git pull</code> to apply new changes.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.expand", "navigation.instant"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js"></script>
      
        <script src="../javascripts/tablesort.js"></script>
      
    
  </body>
</html>